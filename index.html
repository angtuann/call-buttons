<input id="phone" type="text" placeholder="Nháº­p sá»‘: 017142326945, 0912345678, +16266881407" autocomplete="off" />

<div class="hint">Quy táº¯c: 10 sá»‘ VN â†’ +84..., tá»« 11 sá»‘ trá»Ÿ lÃªn báº¯t Ä‘áº§u 0 â†’ Ä‘á»•i 0 thÃ nh +</div>

<div id="buttons" class="buttons"></div>

<script>
  function normalizeNumber(num) {
    num = (num || "").trim();
    if (!num) return "";
    if (num.charAt(0) === "+") return num;

    // 10 sá»‘ báº¯t Ä‘áº§u 0 â†’ VN
    if (/^0\d{9}$/.test(num)) return "+84" + num.slice(1);

    // 11+ sá»‘ báº¯t Ä‘áº§u 0 â†’ Ä‘á»•i 0 thÃ nh +
    if (/^0\d{10,}$/.test(num)) return "+" + num.slice(1);

    return num;
  }

  function render(raw) {
    var box = document.getElementById("buttons");
    var normalized = normalizeNumber(raw);
    if (!normalized) return;

    var clean = normalized.replace("+", "");

    // Hiá»ƒn thá»‹ sá»‘ chuáº©n hoÃ¡
    var p = document.createElement("p");
    p.innerHTML = "<b>Sá»‘ chuáº©n hÃ³a:</b> " + normalized;
    box.appendChild(p);

    // Helper táº¡o <a>
    function link(text, href, cls, newTab) {
      var a = document.createElement("a");
      a.className = cls;
      a.href = href;
      a.textContent = text;
      if (newTab) { a.target = "_blank"; a.rel = "noopener"; }
      box.appendChild(a);
    }

    link("ðŸ“ž Phone", "tel:" + normalized, "phone", false);
    link("ðŸŽ§ FaceTime", "facetime-audio:" + normalized, "facetime", false);
    link("ðŸ’¬ WhatsApp", "https://wa.me/" + clean, "whatsapp", true);
    link("ðŸ“² Viber", "viber://chat?number=%2B" + clean, "viber", false);
    link("ðŸŸ¦ Zalo", "https://zalo.me/" + clean, "zalo", true);

    // ThÃªm khoáº£ng cÃ¡ch giá»¯a cÃ¡c láº§n nháº­p
    box.appendChild(document.createElement("hr"));
  }

  // Báº¯t Enter
  document.getElementById("phone").addEventListener("keydown", function(e) {
    if (e.key === "Enter") {
      render(this.value);
      this.value = ""; // XoÃ¡ input sau khi Enter
    }
  });
</script>
