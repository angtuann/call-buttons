<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Call Buttons (Auto)</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
    input { padding: 12px; font-size: 16px; width: 320px; border:1px solid #ccc; border-radius:10px; }
    .buttons { margin-top: 20px; }
    a { display:inline-block; margin:6px; padding:12px 20px; border-radius:20px; text-decoration:none; font-weight:bold; color:white; }
    .phone { background:#34a853; } .facetime { background:#0b8043; }
    .whatsapp { background:#25d366; } .viber { background:#665cac; } .zalo { background:#0068ff; }
    .hint { color:#666; font-size:14px; margin-top:8px; }
  </style>
</head>
<body>
  <h2>Generate Call Buttons (Auto)</h2>
  <input id="phone" type="text" placeholder="Nháº­p sá»‘: 017142326945, 0912345678, +16266881407" autocomplete="off" oninput="render(this.value)" />
  <div class="hint">Quy táº¯c: 10 sá»‘ VN â†’ +84..., tá»« 11 sá»‘ trá»Ÿ lÃªn báº¯t Ä‘áº§u 0 â†’ Ä‘á»•i 0 thÃ nh +</div>

  <div id="buttons" class="buttons"></div>

  <script>
    function normalizeNumber(num) {
      num = (num || "").trim();
      if (!num) return "";
      if (num.charAt(0) === "+") return num;

      // 10 sá»‘ báº¯t Ä‘áº§u 0 â†’ VN
      if (/^0\d{9}$/.test(num)) return "+84" + num.slice(1);

      // 11+ sá»‘ báº¯t Ä‘áº§u 0 â†’ Ä‘á»•i 0 thÃ nh +
      if (/^0\d{10,}$/.test(num)) return "+" + num.slice(1);

      return num;
    }

    function render(raw) {
      var box = document.getElementById("buttons");
      var normalized = normalizeNumber(raw);
      if (!normalized) return;  // âŒ khÃ´ng xoÃ¡ káº¿t quáº£ cÅ© ná»¯a

      var clean = normalized.replace("+", "");

      // XoÃ¡ ná»™i dung cÅ©
      box.innerHTML = "";

      // Hiá»ƒn thá»‹ sá»‘ chuáº©n hoÃ¡
      var p = document.createElement("p");
      p.innerHTML = "<b>Sá»‘ chuáº©n hÃ³a:</b> " + normalized;
      box.appendChild(p);

      // Helper táº¡o <a>
      function link(text, href, cls, newTab) {
        var a = document.createElement("a");
        a.className = cls;
        a.href = href;
        a.textContent = text;
        if (newTab) { a.target = "_blank"; a.rel = "noopener"; }
        box.appendChild(a);
      }

      link("ğŸ“ Phone", "tel:" + normalized, "phone", false);
      link("ğŸ§ FaceTime", "facetime-audio:" + normalized, "facetime", false);
      link("ğŸ’¬ WhatsApp", "https://wa.me/" + clean, "whatsapp", true);
      link("ğŸ“² Viber", "viber://chat?number=%2B" + clean, "viber", false);
      link("ğŸŸ¦ Zalo", "https://zalo.me/" + clean, "zalo", true);
    }

    // âœ… Báº¯t Enter Ä‘á»ƒ xoÃ¡ input nhÆ°ng váº«n giá»¯ káº¿t quáº£
    document.getElementById("phone").addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        e.preventDefault();
        render(this.value);  // render sá»‘ Ä‘ang nháº­p
        this.value = "";     // xoÃ¡ Ã´ input
      }
    });
  </script>
</body>
</html>
